<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MCQ App - Admin Panel</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="admin.css"> </head>
<body>
  <div class="container mt-5">
    <h1>Admin Dashboard</h1>

    <ul class="nav nav-tabs mb-3">
      <li class="nav-item">
        <a class="nav-link active" id="mcq-tab" data-bs-toggle="tab" href="#mcq-management">MCQ Management</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="hierarchy-tab" data-bs-toggle="tab" href="#hierarchy-management">Hierarchy Management</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="students-tab" data-bs-toggle="tab" href="#student-details">Student Details</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="settings-tab" data-bs-toggle="tab" href="#settings">Settings</a>
      </li>
    </ul>

    <div class="tab-content">
      <div class="tab-pane fade show active" id="mcq-management">
        <h2>MCQ Management</h2>
        <button class="btn btn-primary mb-3" data-bs-toggle="modal" data-bs-target="#addMcqModal">Add New MCQ</button>
        <table class="table">
          <thead>
            <tr>
              <th>Question</th>
              <th>Category</th>
              <th>Subcategory</th>
              <th>Subject</th>
              <th>Chapter</th>
              <th>Marks</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="mcq-list">
            </tbody>
        </table>
        </div>

      <div class="tab-pane fade" id="hierarchy-management">
        <h2>Hierarchy Management</h2>
        <div class="row">
          <div class="col-md-3">
            <h3>Categories</h3>
            <button class="btn btn-sm btn-success mb-2" data-bs-toggle="modal" data-bs-target="#addCategoryModal">Add Category</button>
            <ul class="list-group" id="category-list">
              </ul>
          </div>
          <div class="col-md-3">
            <h3>Subcategories</h3>
            <button class="btn btn-sm btn-success mb-2" data-bs-toggle="modal" data-bs-target="#addSubcategoryModal">Add Subcategory</button>
            <ul class="list-group" id="subcategory-list">
              </ul>
          </div>
          <div class="col-md-3">
            <h3>Subjects</h3>
            <button class="btn btn-sm btn-success mb-2" data-bs-toggle="modal" data-bs-target="#addSubjectModal">Add Subject</button>
            <ul class="list-group" id="subject-list">
              </ul>
          </div>
          <div class="col-md-3">
            <h3>Chapters</h3>
            <button class="btn btn-sm btn-success mb-2" data-bs-toggle="modal" data-bs-target="#addChapterModal">Add Chapter</button>
            <ul class="list-group" id="chapter-list">
              </ul>
          </div>
        </div>
      </div>

      <div class="tab-pane fade" id="student-details">
        <h2>Registered Students</h2>
        <table class="table">
          <thead>
            <tr>
              <th>Name</th>
              <th>Email</th>
              <th>Course</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="student-list">
            </tbody>
        </table>
      </div>

      <div class="tab-pane fade" id="settings">
        <h2>Settings</h2>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="globalNegativeMarking">
          <label class="form-check-label" for="globalNegativeMarking">Enable Global Negative Marking</label>
        </div>
        <button id="save-settings" class="btn btn-primary mt-3">Save Settings</button>
      </div>
    </div>

    <div class="modal fade" id="addMcqModal" tabindex="-1" aria-labelledby="addMcqModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="addMcqModalLabel">Add New MCQ</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="addMcqForm">
              <div class="mb-3">
                <label for="question" class="form-label">Question</label>
                <textarea class="form-control" id="question" rows="3" required></textarea>
              </div>
              <div class="mb-3">
                <label for="categorySelect" class="form-label">Category</label>
                <select class="form-select" id="categorySelect" required></select>
              </div>
              <div class="mb-3">
                <label for="subcategorySelect" class="form-label">Subcategory</label>
                <select class="form-select" id="subcategorySelect" required></select>
              </div>
              <div class="mb-3">
                <label for="subjectSelect" class="form-label">Subject</label>
                <select class="form-select" id="subjectSelect" required></select>
              </div>
              <div class="mb-3">
                <label for="chapterSelect" class="form-label">Chapter</label>
                <select class="form-select" id="chapterSelect" required></select>
              </div>
              <div class="mb-3">
                <label for="option1" class="form-label">Option 1</label>
                <input type="text" class="form-control" id="option1" required>
              </div>
              <div class="mb-3">
                <label for="option2" class="form-label">Option 2</label>
                <input type="text" class="form-control" id="option2" required>
              </div>
              <div class="mb-3">
                <label for="option3" class="form-label">Option 3</label>
                <input type="text" class="form-control" id="option3" required>
              </div>
              <div class="mb-3">
                <label for="option4" class="form-label">Option 4</label>
                <input type="text" class="form-control" id="option4" required>
              </div>
              <div class="mb-3">
                <label for="correctAnswer" class="form-label">Correct Option (0-3)</label>
                <input type="number" class="form-control" id="correctAnswer" min="0" max="3" required>
              </div>
              <div class="mb-3">
                <label for="marks" class="form-label">Marks per Question</label>
                <input type="number" class="form-control" id="marks" value="1" required>
              </div>
              <div class="form-check mb-3">
                <input type="checkbox" class="form-check-input" id="negativeMarking">
                <label class="form-check-label" for="negativeMarking">Enable Negative Marking for this Question</label>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="submit" class="btn btn-primary" form="addMcqForm" id="saveMcqBtn">Save MCQ</button>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="addCategoryModal" tabindex="-1" aria-labelledby="addCategoryModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="addCategoryModalLabel">Add New Category</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="addCategoryForm">
              <div class="mb-3">
                <label for="categoryName" class="form-label">Category Name</label>
                <input type="text" class="form-control" id="categoryName" required>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="submit" class="btn btn-primary" form="addCategoryForm" id="saveCategoryBtn">Save Category</button>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="addSubcategoryModal" tabindex="-1" aria-labelledby="addSubcategoryModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="addSubcategoryModalLabel">Add New Subcategory</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="addSubcategoryForm">
              <div class="mb-3">
                <label for="parentCategory" class="form-label">Category</label>
                <select class="form-select" id="parentCategory" required></select>
              </div>
              <div class="mb-3">
                <label for="subcategoryName" class="form-label">Subcategory Name</label>
                <input type="text" class="form-control" id="subcategoryName" required>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="submit" class="btn btn-primary" form="addSubcategoryForm" id="saveSubcategoryBtn">Save Subcategory</button>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="addSubjectModal" tabindex="-1" aria-labelledby="addSubjectModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="addSubjectModalLabel">Add New Subject</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="addSubjectForm">
              <div class="mb-3">
                <label for="parentSubcategory" class="form-label">Subcategory</label>
                <select class="form-select" id="parentSubcategory" required></select>
              </div>
              <div class="mb-3">
                <label for="subjectName" class="form-label">Subject Name</label>
                <input type="text" class="form-control" id="subjectName" required>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="submit" class="btn btn-primary" form="addSubjectForm" id="saveSubjectBtn">Save Subject</button>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="addChapterModal" tabindex="-1" aria-labelledby="addChapterModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="addChapterModalLabel">Add New Chapter</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="addChapterForm">
              <div class="mb-3">
                <label for="parentSubject" class="form-label">Subject</label>
                <select class="form-select" id="parentSubject" required></select>
              </div>
              <div class="mb-3">
                <label for="chapterName" class="form-label">Chapter Name</label>
                <input type="text" class="form-control" id="chapterName" required>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="submit" class="btn btn-primary" form="addChapterForm" id="saveChapterBtn">Save Chapter</button>
          </div>
        </div>
      </div>
    </div>

  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Basic JavaScript for admin panel interactions
    document.addEventListener('DOMContentLoaded', () => {
      loadCategories();
      loadSubcategories();
      loadSubjects();
      loadChapters();
      loadMCQs();
      loadStudents();
      loadSettings();

      // Function to fetch and populate dropdowns
      async function populateDropdown(url, selectElementId) {
        const selectElement = document.getElementById(selectElementId);
        const response = await fetch(url);
        const data =await response.json();
        selectElement.innerHTML = '<option value="" selected>Select</option>';
        data.forEach(item => {
          const option = document.createElement('option');
          option.value = item.id;
          option.textContent = item.name;
          selectElement.appendChild(option);
        });
      }

      async function loadCategories() {
        const response = await fetch('/admin/categories');
        const categories = await response.json();
        const categoryList = document.getElementById('category-list');
        categoryList.innerHTML = '';
        const categorySelect = document.getElementById('categorySelect');
        categorySelect.innerHTML = '<option value="" selected>Select Category</option>';
        const parentCategorySelect = document.getElementById('parentCategory');
        parentCategorySelect.innerHTML = '<option value="" selected>Select Category</option>';

        categories.forEach(category => {
          const listItem = document.createElement('li');
          listItem.classList.add('list-group-item', 'd-flex', 'justify-content-between', 'align-items-center');
          listItem.textContent = category.name;
          const actions = document.createElement('div');
          const editBtn = document.createElement('button');
          editBtn.classList.add('btn', 'btn-sm', 'btn-warning', 'me-1');
          editBtn.textContent = 'Edit';
          // Add edit functionality
          const deleteBtn = document.createElement('button');
          deleteBtn.classList.add('btn', 'btn-sm', 'btn-danger');
          deleteBtn.textContent = 'Delete';
          // Add delete functionality
          actions.appendChild(editBtn);
          actions.appendChild(deleteBtn);
          listItem.appendChild(actions);
          categoryList.appendChild(listItem);

          const option = document.createElement('option');
          option.value = category.id;
          option.textContent = category.name;
          categorySelect.appendChild(option);
          const parentOption = document.createElement('option');
          parentOption.value = category.id;
          parentOption.textContent = category.name;
          parentCategorySelect.appendChild(parentOption);
        });
      }

      async function loadSubcategories() {
        const response = await fetch('/admin/subcategories');
        const subcategories = await response.json();
        const subcategoryList = document.getElementById('subcategory-list');
        subcategoryList.innerHTML = '';
        const subcategorySelect = document.getElementById('subcategorySelect');
        subcategorySelect.innerHTML = '<option value="" selected>Select Subcategory</option>';
        const parentSubcategorySelect = document.getElementById('parentSubcategory');
        parentSubcategorySelect.innerHTML = '<option value="" selected>Select Subcategory</option>';

        subcategories.forEach(subcategory => {
          const listItem = document.createElement('li');
          listItem.classList.add('list-group-item', 'd-flex', 'justify-content-between', 'align-items-center');
          listItem.textContent = `${subcategory.name} (Category: ${subcategory.categoryId})`;
          const actions = document.createElement('div');
          const editBtn = document.createElement('button');
          editBtn.classList.add('btn', 'btn-sm', 'btn-warning', 'me-1');
          editBtn.textContent = 'Edit';
          // Add edit functionality
          const deleteBtn = document.createElement('button');
          deleteBtn.classList.add('btn', 'btn-sm', 'btn-danger');
          deleteBtn.textContent = 'Delete';
          // Add delete functionality
          actions.appendChild(editBtn);
          actions.appendChild(deleteBtn);
          listItem.appendChild(actions);
          subcategoryList.appendChild(listItem);

          const option = document.createElement('option');
          option.value = subcategory.id;
          option.textContent = subcategory.name;
          subcategorySelect.appendChild(option);
          const parentOption = document.createElement('option');
          parentOption.value = subcategory.id;
          parentOption.textContent = subcategory.name;
          parentSubcategorySelect.appendChild(parentOption);
        });
      }

      async function loadSubjects() {
        const response = await fetch('/admin/subjects');
        const subjects = await response.json();
        const subjectList = document.getElementById('subject-list');
        subjectList.innerHTML = '';
        const subjectSelect = document.getElementById('subjectSelect');
        subjectSelect.innerHTML = '<option value="" selected>Select Subject</option>';
        const parentSubjectSelect = document.getElementById('parentSubject');
        parentSubjectSelect.innerHTML = '<option value="" selected>Select Subject</option>';

        subjects.forEach(subject => {
          const listItem = document.createElement('li');
          listItem.classList.add('list-group-item', 'd-flex', 'justify-content-between', 'align-items-center');
          listItem.textContent = `${subject.name} (Subcategory: ${subject.subcategoryId})`;
          const actions = document.createElement('div');
          const editBtn = document.createElement('button');
          editBtn.classList.add('btn', 'btn-sm', 'btn-warning', 'me-1');
          editBtn.textContent = 'Edit';
          // Add edit functionality
          const deleteBtn = document.createElement('button');
          deleteBtn.classList.add('btn', 'btn-sm', 'btn-danger');
          deleteBtn.textContent = 'Delete';
          // Add delete functionality
          actions.appendChild(editBtn);
          actions.appendChild(deleteBtn);
          listItem.appendChild(actions);
          subjectList.appendChild(listItem);

          const option = document.createElement('option');
          option.value = subject.id;
          option.textContent = subject.name;
          subjectSelect.appendChild(option);
          const parentOption = document.createElement('option');
          parentOption.value = subject.id;
          parentOption.textContent = subject.name;
          parentSubjectSelect.appendChild(parentOption);
        });
      }

      async function loadChapters() {
        const response = await fetch('/admin/chapters');
        const chapters = await response.json();
        const chapterList = document.getElementById('chapter-list');
        chapterList.innerHTML = '';
        const chapterSelect = document.getElementById('chapterSelect');
        chapterSelect.innerHTML = '<option value="" selected>Select Chapter</option>';

        chapters.forEach(chapter => {
          const listItem = document.createElement('li');
          listItem.classList.add('list-group-item', 'd-flex', 'justify-content-between', 'align-items-center');
          listItem.textContent = `${chapter.name} (Subject: ${chapter.subjectId})`;
          const actions = document.createElement('div');
          const editBtn = document.createElement('button');
          editBtn.classList.add('btn', 'btn-sm', 'btn-warning', 'me-1');
          editBtn.textContent = 'Edit';
          // Add edit functionality
          const deleteBtn = document.createElement('button');
          deleteBtn.classList.add('btn', 'btn-sm', 'btn-danger');
          deleteBtn.textContent = 'Delete';
          // Add delete functionality
          actions.appendChild(editBtn);
          actions.appendChild(deleteBtn);
          listItem.appendChild(actions);
          chapterList.appendChild(listItem);

          const option = document.createElement('option');
          option.value = chapter.id;
          option.textContent = chapter.name;
          chapterSelect.appendChild(option);
        });
      }

      async function loadMCQs() {
        const response = await fetch('/admin/mcqs');
        const mcqs = await response.json();
        const mcqList = document.getElementById('mcq-list');
        mcqList.innerHTML = '';
        mcqs.forEach(mcq => {
          const row = document.createElement('tr');
          row.innerHTML = `
            <td>${mcq.question.substring(0, 50)}...</td>
            <td>${mcq.categoryId}</td>
            <td>${mcq.subcategoryId}</td>
            <td>${mcq.subjectId}</td>
            <td>${mcq.chapterId}</td>
            <td>${mcq.marks}</td>
            <td>
              <button class="btn btn-sm btn-warning">Edit</button>
              <button class="btn btn-sm btn-danger">Delete</button>
            </td>
          `;
          mcqList.appendChild(row);
        });
      }

      async function loadStudents() {
        const response = await fetch('/admin/students');
        const students = await response.json();
        const studentList = document.getElementById('student-list');
        studentList.innerHTML = '';
        students.forEach(student => {
          const row = document.createElement('tr');
          row.innerHTML = `
            <td>${student.name}</td>
            <td>${student.email}</td>
            <td>${student.course}</td>
            <td>
              <button class="btn btn-sm btn-info">View Details</button>
            </td>
          `;
          studentList.appendChild(row);
        });
      }

      async function loadSettings() {
        const response = await fetch('/admin/settings');
        const settings = await response.json();
        document.getElementById('globalNegativeMarking').checked = settings.negativeMarkingGlobal;
      }

      // Event listeners for form submissions
      document.getElementById('addCategoryForm').addEventListener('submit', async (e) => {
        e.preventDefault();
        const categoryName = document.getElementById('categoryName').value;
        const response = await fetch('/admin/categories', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({ name: categoryName }),
        });
        if (response.ok) {
          loadCategories();
          const modal = bootstrap.Modal.getInstance(document.getElementById('addCategoryModal'));
          modal.hide();
          document.getElementById('addCategoryForm').reset();
        } else {
          alert('Failed to add category');
        }
      });

      document.getElementById('addSubcategoryForm').addEventListener('submit', async (e) => {
        e.preventDefault();
        const categoryId = document.getElementById('parentCategory').value;
        const subcategoryName = document.getElementById('subcategoryName').value;
        const response = await fetch('/admin/subcategories', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({ categoryId: categoryId, name: subcategoryName }),
        });
        if (response.ok) {
          loadSubcategories();
          const modal = bootstrap.Modal.getInstance(document.getElementById('addSubcategoryModal'));
          modal.hide();
          document.getElementById('addSubcategoryForm').reset();
        } else {
          alert('Failed to add subcategory');
        }
      });

      document.getElementById('addSubjectForm').addEventListener('submit', async (e) => {
        e.preventDefault();
        const subcategoryId = document.getElementById('parentSubcategory').value;
        const subjectName = document.getElementById('subjectName').value;
        const response = await fetch('/admin/subjects', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({ subcategoryId: subcategoryId, name: subjectName }),
        });
        if (response.ok) {
          loadSubjects();
          const modal = bootstrap.Modal.getInstance(document.getElementById('addSubjectModal'));
          modal.hide();
          document.getElementById('addSubjectForm').reset();
        } else {
          alert('Failed to add subject');
        }
      });

      document.getElementById('addChapterForm').addEventListener('submit', async (e) => {
        e.preventDefault();
        const subjectId = document.getElementById('parentSubject').value;
        const chapterName = document.getElementById('chapterName').value;
        const response = await fetch('/admin/chapters', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({ subjectId: subjectId, name: chapterName }),
        });
        if (response.ok) {
          loadChapters();
          const modal = bootstrap.Modal.getInstance(document.getElementById('addChapterModal'));
          modal.hide();
          document.getElementById('addChapterForm').reset();
        } else {
          alert('Failed to add chapter');
        }
      });

      document.getElementById('addMcqForm').addEventListener('submit', async (e) => {
        e.preventDefault();
        const question = document.getElementById('question').value;
        const categoryId = document.getElementById('categorySelect').value;
        const subcategoryId = document.getElementById('subcategorySelect').value;
        const subjectId = document.getElementById('subjectSelect').value;
        const chapterId = document.getElementById('chapterSelect').value;
        const options = [
          document.getElementById('option1').value,
          document.getElementById('option2').value,
          document.getElementById('option3').value,
          document.getElementById('option4').value,
        ];
        const correctAnswer = parseInt(document.getElementById('correctAnswer').value);
        const marks = parseInt(document.getElementById('marks').value);
        const negativeMarking = document.getElementById('negativeMarking').checked;

        const newMcq = {
          question,
          options,
          correctAnswer,
          marks,
          negativeMarking,
          categoryId,
          subcategoryId,
          subjectId,
          chapterId,
        };

        const response = await fetch('/admin/mcqs', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(newMcq),
        });

        if (response.ok) {
          loadMCQs();
          const modal = bootstrap.Modal.getInstance(document.getElementById('addMcqModal'));
          modal.hide();
          document.getElementById('addMcqForm').reset();
        } else {
          alert('Failed to add MCQ');
        }
      });

      document.getElementById('saveSettings').addEventListener('click', async () => {
        const globalNegativeMarking = document.getElementById('globalNegativeMarking').checked;
        const response = await fetch('/admin/settings', {
          method: 'PUT',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({ negativeMarkingGlobal: globalNegativeMarking }),
        });
        if (response.ok) {
          alert('Settings saved successfully!');
          loadSettings();
        } else {
          alert('Failed to save settings.');
        }
      });

      // Populate dropdowns on modal show
      const addMcqModal = document.getElementById('addMcqModal');
      addMcqModal.addEventListener('show.bs.modal', () => {
        populateDropdown('/admin/categories', 'categorySelect');
        const categorySelect = document.getElementById('categorySelect');
        categorySelect.addEventListener('change', () => populateDropdown(`/admin/subcategories?categoryId=${categorySelect.value}`, 'subcategorySelect'));
        const subcategorySelect = document.getElementById('subcategorySelect');
        subcategorySelect.addEventListener('change', () => populateDropdown(`/admin/subjects?subcategoryId=${subcategorySelect.value}`, 'subjectSelect'));
        const subjectSelect = document.getElementById('subjectSelect');
        subjectSelect.addEventListener('change', () => populateDropdown(`/admin/chapters?subjectId=${subjectSelect.value}`, 'chapterSelect'));
      });

      const addSubcategoryModal = document.getElementById('addSubcategoryModal');
      addSubcategoryModal.addEventListener('show.bs.modal', () => {
        populateDropdown('/admin/categories', 'parentCategory');
      });

      const addSubjectModal = document.getElementById('addSubjectModal');
      addSubjectModal.addEventListener('show.bs.modal', () => {
        populateDropdown('/admin/subcategories', 'parentSubcategory');
      });

      const addChapterModal = document.getElementById('addChapterModal');
      addChapterModal.addEventListener('show.bs.modal', () => {
        populateDropdown('/admin/subjects', 'parentSubject');
      });
    });
  </script>
</body>
</html>